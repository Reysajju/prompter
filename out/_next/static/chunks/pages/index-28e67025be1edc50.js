(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1582)}])},1582:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var s=r(5893),n=r(7294);function FieldRenderer(e){let{fields:t,values:r,onChange:n}=e;return(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),"dropdown"===e.type&&(0,s.jsxs)("select",{value:r[e.id]||e.default||"",onChange:t=>n(e.id,t.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Choose..."}),null===(t=e.options)||void 0===t?void 0:t.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),"text"===e.type&&(0,s.jsx)("input",{type:"text",value:r[e.id]||e.default||"",onChange:t=>n(e.id,t.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),"textarea"===e.type&&(0,s.jsx)("textarea",{value:r[e.id]||"",onChange:t=>n(e.id,t.target.value),rows:4,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),"checkbox"===e.type&&(0,s.jsx)("input",{type:"checkbox",checked:"true"===r[e.id],onChange:t=>n(e.id,t.target.checked.toString()),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.help&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.help})]},e.id)})})}async function callGemini(e){let{userIntent:t,values:r={}}=e;return r&&0!==Object.keys(r).length?evaluateCompletion(t,r):generateInitialFields(t)}function generateInitialFields(e){let t=e.toLowerCase();return t.includes("email")?{is_complete:!1,fields:[{id:"audience",label:"Target Audience",type:"dropdown",options:["hiring manager","client","colleague","customer"],required:!0,help:"Who will receive this email?"},{id:"tone",label:"Tone",type:"dropdown",options:["professional","casual","friendly","formal"],required:!0,default:"professional"}],reason:"Need audience and tone for email generation"}:t.includes("blog")||t.includes("article")?{is_complete:!1,fields:[{id:"length",label:"Word Count",type:"dropdown",options:["300-500","500-800","800-1200","1200+"],required:!0,default:"500-800"},{id:"audience",label:"Target Audience",type:"text",required:!0,help:"Who is your target reader?"}],reason:"Need length and audience for blog post"}:{is_complete:!1,fields:[{id:"tone",label:"Tone",type:"dropdown",options:["professional","casual","creative","technical"],required:!0,default:"professional"},{id:"length",label:"Length",type:"dropdown",options:["short","medium","long","detailed"],required:!0,default:"medium"}],reason:"Need basic parameters for content generation"}}function evaluateCompletion(e,t){let r=Object.keys(t).length;if(r>=2){let r=buildFinalPrompt(e,t);return{is_complete:!0,prompt_preview:r}}return{is_complete:!1,fields:[{id:"style",label:"Writing Style",type:"dropdown",options:["conversational","academic","persuasive","informative"],required:!1,default:"conversational"}],reason:"Adding style preference for better output"}}function buildFinalPrompt(e,t){let r=e;return Object.entries(t).forEach(e=>{let[t,s]=e;s&&(r+=" ".concat(t,": ").concat(s,"."))}),r+" Please provide a comprehensive and well-structured response."}function saveSession(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function loadSession(e){{let t=sessionStorage.getItem(e);return t?JSON.parse(t):null}}function Home(){let[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)([]),[l,i]=(0,n.useState)({}),[o,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[p,m]=(0,n.useState)(!1),[g,h]=(0,n.useState)(1);(0,n.useEffect)(()=>{let e=loadSession("prompt-builder-state");e&&(t(e.userIntent||""),a(e.fields||[]),i(e.values||{}),d(e.isComplete||!1),u(e.finalPrompt||""),h(e.step||1))},[]),(0,n.useEffect)(()=>{saveSession("prompt-builder-state",{userIntent:e,fields:r,values:l,isComplete:o,finalPrompt:c,step:g})},[e,r,l,o,c,g]);let handleSubmitIntent=async()=>{if(e.trim()){m(!0);try{let t=await callGemini({userIntent:e});a(t.fields||[]),d(t.is_complete),t.prompt_preview&&u(t.prompt_preview),h(2)}catch(e){console.error("Error:",e)}m(!1)}},handleFieldChange=async(t,s)=>{let n={...l,[t]:s};i(n),m(!0);try{let t=await callGemini({userIntent:e,values:n});t.is_complete?(d(!0),u(t.prompt_preview||"")):t.fields&&a([...r,...t.fields])}catch(e){console.error("Error:",e)}m(!1)};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"AI Prompt Builder"}),1===g&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What do you want to create?"}),(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Write a blog post about AI in education...",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Describe your intent in one sentence"})]}),(0,s.jsx)("button",{onClick:handleSubmitIntent,disabled:!e.trim()||p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Processing...":"Start Building"})]}),2===g&&!o&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Intent:"})," ",e]})}),(0,s.jsx)(FieldRenderer,{fields:r,values:l,onChange:handleFieldChange}),p&&(0,s.jsx)("div",{className:"text-center text-gray-500",children:"Processing your inputs..."})]}),o&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-md",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"Your Prompt is Ready!"}),(0,s.jsx)("textarea",{value:c,readOnly:!0,className:"w-full p-3 border border-green-300 rounded-md bg-white",rows:6})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(c)},className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Copy Prompt"}),(0,s.jsx)("button",{onClick:()=>{t(""),a([]),i({}),d(!1),u(""),h(1),saveSession("prompt-builder-state",{})},className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700",children:"Start Over"})]})]})]})})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);